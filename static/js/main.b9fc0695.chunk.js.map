{"version":3,"sources":["redux/auth/auth-selectors.js","components/Contacts.js","components/UserMenu/UserMenu.js","components/AuthNav.js","components/AppBar.js","components/PrivateRoute.js","components/PublicRoute.js","App.js","redux/contacts/contacts-reducer.js","redux/auth/auth-reducer.js","redux/store.js","index.js","redux/contacts/contacts-actions.js","components/service/api.js","redux/auth/auth-operations.js","components/UserMenu/UserMenu.module.css","redux/auth/auth-actions.js","components/Container/Container.js","components/Loader/Loader.js","components/Container/Container.module.css","components/Loader/Loader.module.css"],"names":["state","auth","isAuthenticated","user","name","styles","link","display","textDecoration","padding","fontWeight","color","activeLink","connect","authSelectors","to","exact","style","activeStyle","mapDispatchToProps","onLogout","authOperations","logOut","avatar","className","s","wrapper","button","type","onClick","AuthNav","header","justifyContent","alignItems","borderBottom","Contacts","Component","component","redirectTo","routeProps","render","props","restricted","HomeView","lazy","RegisterView","LoginView","ContactsView","App","this","onGetCurretnUser","Container","fallback","Loader","path","getCurrentUser","fetchContactsRequest","actions","fetchContactsSuccess","fetchContactsError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","changeFilter","clearError","initialState","items","createReducer","_","payload","filter","id","onError","loading","error","combineReducers","email","authActions","registerSuccess","loginSuccess","logoutSuccess","getCurrentUserSuccess","token","registerError","loginError","getCurrentUserError","logoutError","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","authReducer","contacts","contactsReducer","devTools","process","persistor","persistStore","ReactDOM","StrictMode","document","getElementById","createAction","axios","defaults","baseURL","set","headers","common","Authorization","unset","signUp","credentials","post","logIn","get","fetchContacts","addContact","contact","deleteContact","contactId","delete","register","dispatch","a","registerRequest","api","data","loginRequest","message","logoutRequest","getState","persistedToken","getCurrentUserRequest","module","exports","children","container","loader","height","width"],"mappings":"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","file":"static/js/main.b9fc0695.chunk.js","sourcesContent":["const getIsAuthenticated = (state) => state.auth.isAuthenticated;\r\n\r\nconst getUsername = (state) => state.auth.user.name;\r\nconst getError = (state) => state.contacts.error;\r\n\r\nexport default {\r\n  getIsAuthenticated,\r\n  getUsername,\r\n  getError,\r\n};\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport authSelectors from \"../redux/auth/auth-selectors\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst styles = {\r\n  link: {\r\n    display: \"inline-block\",\r\n    textDecoration: \"none\",\r\n    padding: 12,\r\n    fontWeight: 700,\r\n    color: \"#2A363B\",\r\n  },\r\n  activeLink: {\r\n    color: \"rgb(0,0,220)\",\r\n  },\r\n};\r\n\r\nconst Navigation = ({ isAuthenticated }) => (\r\n  <nav>\r\n    <NavLink to=\"/\" exact style={styles.link} activeStyle={styles.activeLink}>\r\n      Home\r\n    </NavLink>\r\n    {isAuthenticated && (\r\n      <NavLink\r\n        to=\"/contacts\"\r\n        exact\r\n        style={styles.link}\r\n        activeStyle={styles.activeLink}\r\n      >\r\n        Contact\r\n      </NavLink>\r\n    )}\r\n  </nav>\r\n);\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: authSelectors.getIsAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(Navigation);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport authOperations from \"../../redux/auth/auth-operations\";\r\nimport authSelectors from \"../../redux/auth/auth-selectors\";\r\n\r\nimport s from \"../UserMenu/UserMenu.module.css\";\r\n\r\nconst UserMenu = ({ avatar, name, onLogout }) => (\r\n  <div className={s.wrapper}>\r\n    <span className={s.name}>Welcome, {name}</span>\r\n    <button className={s.button} type=\"button\" onClick={onLogout}>\r\n      Go out\r\n    </button>\r\n  </div>\r\n);\r\n\r\nconst mapStateToProps = (state) => ({\r\n  name: authSelectors.getUsername(state),\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  onLogout: authOperations.logOut,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserMenu);\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst styles = {\r\n  link: {\r\n    display: \"inline-block\",\r\n    textDecoration: \"none\",\r\n    padding: 12,\r\n    fontWeight: 700,\r\n    color: \"#2A363B\",\r\n  },\r\n  activeLink: {\r\n    color: \"rgb(0,0,220)\",\r\n  },\r\n};\r\n\r\nexport default function AuthNav() {\r\n  return (\r\n    <div>\r\n      <NavLink\r\n        to=\"/register\"\r\n        exact\r\n        style={styles.link}\r\n        activeStyle={styles.activeLink}\r\n      >\r\n        Sign Up\r\n      </NavLink>\r\n      <NavLink\r\n        to=\"/login\"\r\n        exact\r\n        style={styles.link}\r\n        activeStyle={styles.activeLink}\r\n      >\r\n        Log in\r\n      </NavLink>\r\n    </div>\r\n  );\r\n}\r\n","import { connect } from \"react-redux\";\r\nimport Contacts from \"../components/Contacts\";\r\nimport UserMenu from \"../components/UserMenu/UserMenu\";\r\nimport AuthNav from \"../components//AuthNav\";\r\nimport authSelectors from \"../redux/auth/auth-selectors\";\r\n\r\nconst styles = {\r\n  header: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    borderBottom: \"1px solid #2A363B\",\r\n  },\r\n};\r\n\r\nconst AppBar = ({ isAuthenticated }) => (\r\n  <header style={styles.header}>\r\n    <Contacts />\r\n    {isAuthenticated ? <UserMenu /> : <AuthNav />}\r\n  </header>\r\n);\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: authSelectors.getIsAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(AppBar);\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport authSelectors from \"../redux/auth/auth-selectors\";\r\n\r\nconst PrivateRoute = ({\r\n  component: Component,\r\n  isAuthenticated,\r\n  redirectTo,\r\n  ...routeProps\r\n}) => (\r\n  <Route\r\n    {...routeProps}\r\n    render={(props) =>\r\n      isAuthenticated ? <Component {...props} /> : <Redirect to={redirectTo} />\r\n    }\r\n  />\r\n);\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: authSelectors.getIsAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport authSelectors from \"../redux/auth/auth-selectors\";\r\n\r\nconst PublicRoute = ({\r\n  component: Component,\r\n  isAuthenticated,\r\n  redirectTo,\r\n  ...routeProps\r\n}) => (\r\n  <Route\r\n    {...routeProps}\r\n    render={(props) =>\r\n      isAuthenticated && routeProps.restricted ? (\r\n        <Redirect to={redirectTo} />\r\n      ) : (\r\n        <Component {...props} />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: authSelectors.getIsAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(PublicRoute);\r\n","import \"./App.css\";\nimport React, { Component, Suspense, lazy } from \"react\";\nimport { Switch } from \"react-router-dom\";\nimport Container from \"./components/Container/Container\";\nimport AppBar from \"./components/AppBar\";\n// import HomeView from \"./views/HomeView\";\n// import RegisterView from \"./views/RegisterView\";\n// import LoginView from \"./views/LoginView\";\n// import ContactsView from \"./views/ContactsView\";\nimport PrivateRoute from \"./components/PrivateRoute\";\nimport PublicRoute from \"./components/PublicRoute\";\nimport authOperations from \"./redux/auth/auth-operations\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport Loader from \"./components/Loader/Loader\";\n\nconst HomeView = lazy(() =>\n  import(\"./views/HomeView\" /*webpackChunkName: 'home-page' */)\n);\nconst RegisterView = lazy(() =>\n  import(\"./views/RegisterView\" /*webpackChunkName: 'register' */)\n);\nconst LoginView = lazy(() =>\n  import(\"./views/LoginView\" /*webpackChunkName: 'Login' */)\n);\n\nconst ContactsView = lazy(() =>\n  import(\"./views/ContactsView\" /*webpackChunkName: 'phone-book' */)\n);\n\nclass App extends Component {\n  static propTypes = {\n    onGetCurretnUser: PropTypes.func,\n  };\n  componentDidMount() {\n    this.props.onGetCurretnUser();\n  }\n\n  render() {\n    return (\n      <Container>\n        <AppBar />\n\n        <Switch>\n          <Suspense fallback={<Loader />}>\n            <PublicRoute exact path=\"/\" component={HomeView} />\n            <PublicRoute\n              path=\"/register\"\n              restricted\n              redirectTo=\"/contacts\"\n              component={RegisterView}\n            />\n            <PublicRoute\n              path=\"/login\"\n              restricted\n              redirectTo=\"/contacts\"\n              component={LoginView}\n            />\n            <PrivateRoute\n              path=\"/contacts\"\n              redirectTo=\"/login\"\n              component={ContactsView}\n            />\n          </Suspense>\n        </Switch>\n      </Container>\n    );\n  }\n}\n\nconst mapDispatchToProps = {\n  onGetCurretnUser: authOperations.getCurrentUser,\n};\n\nexport default connect(null, mapDispatchToProps)(App);\n","import { combineReducers } from \"redux\";\r\nimport { createReducer } from \"@reduxjs/toolkit\";\r\n\r\nimport actions from \"../contacts/contacts-actions\";\r\nconst {\r\n  fetchContactsRequest,\r\n  fetchContactsSuccess,\r\n  fetchContactsError,\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  addContactError,\r\n  deleteContactRequest,\r\n  deleteContactSuccess,\r\n  deleteContactError,\r\n  changeFilter,\r\n  clearError,\r\n} = actions;\r\n\r\nconst initialState = {\r\n  contacts: [],\r\n  filter: \"\",\r\n  loading: false,\r\n  error: null,\r\n};\r\nconst items = createReducer(initialState.contacts, {\r\n  [fetchContactsSuccess]: (_, { payload }) => payload,\r\n  [addContactSuccess]: (state, { payload }) => [...state, payload],\r\n  [deleteContactSuccess]: (state, { payload }) =>\r\n    state.filter(({ id }) => id !== payload),\r\n});\r\n\r\nconst filter = createReducer(initialState.filter, {\r\n  [changeFilter]: (_, { payload }) => payload,\r\n});\r\n\r\nconst onError = (_, { payload }) => payload;\r\n\r\nconst loading = createReducer(initialState.loading, {\r\n  [fetchContactsRequest]: () => true,\r\n  [fetchContactsSuccess]: () => false,\r\n  [fetchContactsError]: () => false,\r\n\r\n  [addContactRequest]: () => true,\r\n  [addContactSuccess]: () => false,\r\n  [addContactError]: () => false,\r\n\r\n  [deleteContactRequest]: () => true,\r\n  [deleteContactSuccess]: () => false,\r\n  [deleteContactError]: () => false,\r\n});\r\n\r\nconst error = createReducer(initialState.error, {\r\n  [fetchContactsError]: onError,\r\n  [addContactError]: onError,\r\n  [deleteContactError]: onError,\r\n  [clearError]: () => null,\r\n});\r\n\r\nexport default combineReducers({\r\n  items,\r\n  filter,\r\n  loading,\r\n  error,\r\n});\r\n","import { combineReducers } from \"redux\";\r\nimport { createReducer } from \"@reduxjs/toolkit\";\r\nimport authActions from \"./auth-actions\";\r\n\r\nconst initialUserState = { name: null, email: null };\r\n\r\nconst user = createReducer(initialUserState, {\r\n  [authActions.registerSuccess]: (_, { payload }) => payload.user,\r\n  [authActions.loginSuccess]: (_, { payload }) => payload.user,\r\n  [authActions.logoutSuccess]: () => null,\r\n  [authActions.getCurrentUserSuccess]: (_, { payload }) => payload,\r\n});\r\n\r\nconst token = createReducer(null, {\r\n  [authActions.registerSuccess]: (_, { payload }) => payload.token,\r\n  [authActions.loginSuccess]: (_, { payload }) => payload.token,\r\n  [authActions.logoutSuccess]: () => null,\r\n});\r\n\r\nconst onError = (_, { payload }) => payload;\r\n\r\nconst isAuthenticated = createReducer(false, {\r\n  [authActions.registerSuccess]: () => true,\r\n  [authActions.loginSuccess]: () => true,\r\n  [authActions.getCurrentUserSuccess]: () => true,\r\n\r\n  [authActions.registerError]: () => false,\r\n  [authActions.loginError]: () => false,\r\n  [authActions.getCurrentUserError]: () => false,\r\n  [authActions.logoutSuccess]: () => false,\r\n});\r\n\r\nconst error = createReducer(null, {\r\n  [authActions.registerError]: onError,\r\n  [authActions.loginError]: onError,\r\n  [authActions.logoutError]: onError,\r\n  [authActions.getCurrentUserError]: onError,\r\n  [authActions.clearError]: () => null,\r\n});\r\n\r\nexport default combineReducers({\r\n  user,\r\n  isAuthenticated,\r\n  token,\r\n  error,\r\n});\r\n","import { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\r\n\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport contactsReducer from \"./contacts/contacts-reducer\";\r\nimport authReducer from \"./auth/auth-reducer\";\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n  // logger,\r\n];\r\nconst authPersistConfig = {\r\n  key: \"auth\",\r\n  storage,\r\n  whitelist: [\"token\"],\r\n};\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    auth: persistReducer(authPersistConfig, authReducer),\r\n    contacts: contactsReducer,\r\n  },\r\n  middleware,\r\n  devTools: process.env.NODE_ENV === \"development\",\r\n});\r\nconst persistor = persistStore(store);\r\n\r\nexport default { store, persistor };\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport App from \"./App\";\nimport store from \"../src/redux/store\";\nimport \"modern-normalize/modern-normalize.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store.store}>\n      <PersistGate loading={null} persistor={store.persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nconst fetchContactsRequest = createAction(\"contacts/fetchContactsRequest\");\r\nconst fetchContactsSuccess = createAction(\"contacts/fetchContactsSuccess\");\r\nconst fetchContactsError = createAction(\"contacts/fetchContactsError\");\r\n\r\nconst addContactRequest = createAction(\"contacts/addContactRequest\");\r\nconst addContactSuccess = createAction(\"contacts/addContactSuccess\");\r\nconst addContactError = createAction(\"contacts/addContactError\");\r\n\r\nconst deleteContactRequest = createAction(\"contacts/deleteContactRequest\");\r\nconst deleteContactSuccess = createAction(\"contacts/deleteContactSuccess\");\r\nconst deleteContactError = createAction(\"contacts/deleteContactError\");\r\n\r\nconst changeFilter = createAction(\"contacts/changeFilter\");\r\nconst clearError = createAction(\"contacts/clearError\");\r\n\r\nexport default {\r\n  fetchContactsRequest,\r\n  fetchContactsSuccess,\r\n  fetchContactsError,\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  addContactError,\r\n  deleteContactRequest,\r\n  deleteContactSuccess,\r\n  deleteContactError,\r\n  changeFilter,\r\n  clearError,\r\n};\r\n","import axios from \"axios\";\r\n\r\naxios.defaults.baseURL = \"https://goit-phonebook-api.herokuapp.com\";\r\n\r\nexport const token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = \"\";\r\n  },\r\n};\r\n\r\nexport function signUp(credentials) {\r\n  return axios.post(\"/users/signup\", credentials);\r\n}\r\n\r\nexport function logIn(credentials) {\r\n  return axios.post(\"/users/login\", credentials);\r\n}\r\n\r\nexport function logOut() {\r\n  return axios.post(\"/users/logout\");\r\n}\r\n\r\nexport function getCurrentUser() {\r\n  return axios.get(\"/users/current\");\r\n}\r\n\r\nexport function fetchContacts() {\r\n  return axios.get(\"/contacts\");\r\n}\r\n\r\nexport function addContact(contact) {\r\n  return axios.post(\"/contacts\", contact);\r\n}\r\n\r\nexport function deleteContact(contactId) {\r\n  return axios.delete(`/contacts/${contactId}`);\r\n}\r\n\r\nexport function updateContact(contactId) {\r\n  return axios.patch(`/contacts/${contactId}`);\r\n}\r\n\r\nexport default {\r\n  token,\r\n  signUp,\r\n  logIn,\r\n  logOut,\r\n  getCurrentUser,\r\n  fetchContacts,\r\n  addContact,\r\n  deleteContact,\r\n};\r\n","import authActions from \"./auth-actions\";\r\nimport api from \"../../components/service/api\";\r\n\r\nconst register = (credentials) => async (dispatch) => {\r\n  dispatch(authActions.registerRequest());\r\n\r\n  try {\r\n    const { data } = await api.signUp(credentials);\r\n\r\n    api.token.set(data.token);\r\n    dispatch(authActions.registerSuccess(data));\r\n  } catch (error) {\r\n    dispatch(authActions.registerError(error));\r\n  }\r\n};\r\n\r\nconst logIn = (credentials) => async (dispatch) => {\r\n  dispatch(authActions.loginRequest());\r\n\r\n  try {\r\n    const { data } = await api.logIn(credentials);\r\n\r\n    api.token.set(data.token);\r\n    dispatch(authActions.loginSuccess(data));\r\n  } catch (error) {\r\n    dispatch(authActions.loginError(error.message));\r\n  }\r\n};\r\n\r\nconst logOut = () => async (dispatch) => {\r\n  dispatch(authActions.logoutRequest());\r\n\r\n  try {\r\n    await api.logOut();\r\n\r\n    api.token.unset();\r\n    dispatch(authActions.logoutSuccess());\r\n  } catch (error) {\r\n    dispatch(authActions.logoutError(error.message));\r\n  }\r\n};\r\n\r\nconst getCurrentUser = () => async (dispatch, getState) => {\r\n  const {\r\n    auth: { token: persistedToken },\r\n  } = getState();\r\n\r\n  if (!persistedToken) {\r\n    return;\r\n  }\r\n\r\n  api.token.set(persistedToken);\r\n  dispatch(authActions.getCurrentUserRequest());\r\n\r\n  try {\r\n    const { data } = await api.getCurrentUser();\r\n\r\n    dispatch(authActions.getCurrentUserSuccess(data));\r\n  } catch (error) {\r\n    dispatch(authActions.getCurrentUserError(error.message));\r\n  }\r\n};\r\n\r\nexport default { register, logIn, logOut, getCurrentUser };\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"UserMenu_wrapper__1Xxcm\",\"avatar\":\"UserMenu_avatar__1zjZa\",\"name\":\"UserMenu_name__1M7_G\",\"button\":\"UserMenu_button__1LGtT\"};","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nconst registerRequest = createAction(\"auth/registerRequest\");\r\nconst registerSuccess = createAction(\"auth/registerSuccess\");\r\nconst registerError = createAction(\"auth/registerError\");\r\n\r\nconst loginRequest = createAction(\"auth/loginRequest\");\r\nconst loginSuccess = createAction(\"auth/loginSuccess\");\r\nconst loginError = createAction(\"auth/loginError\");\r\n\r\nconst logoutRequest = createAction(\"auth/logoutRequest\");\r\nconst logoutSuccess = createAction(\"auth/logoutSuccess\");\r\nconst logoutError = createAction(\"auth/logoutError\");\r\n\r\nconst getCurrentUserRequest = createAction(\"auth/getCurrentUserRequest\");\r\nconst getCurrentUserSuccess = createAction(\"auth/getCurrentUserSuccess\");\r\nconst getCurrentUserError = createAction(\"auth/getCurrentUserError\");\r\n\r\nconst clearError = createAction(\"auth/clearError\");\r\n\r\nexport default {\r\n  registerRequest,\r\n  registerSuccess,\r\n  registerError,\r\n  logoutRequest,\r\n  logoutSuccess,\r\n  logoutError,\r\n  loginRequest,\r\n  loginSuccess,\r\n  loginError,\r\n  getCurrentUserRequest,\r\n  getCurrentUserSuccess,\r\n  getCurrentUserError,\r\n  clearError,\r\n};\r\n","import styles from \"./Container.module.css\";\r\n\r\nexport default function Container({ children }) {\r\n  return <div className={styles.container}>{children}</div>;\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport s from \"../Loader/Loader.module.css\";\r\n\r\nclass loader extends Component {\r\n  state = {};\r\n  render() {\r\n    return (\r\n      <div className={s.loader}>\r\n        <Loader type=\"Circles\" color=\"#099110\" height={80} width={80} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default loader;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__2Acq8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__21Qjb\"};"],"sourceRoot":""}